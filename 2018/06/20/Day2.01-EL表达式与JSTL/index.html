<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="alternative" href="/atom.xml" title="Blackdogman's blog" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title> - Blackdogman's blog</title><link rel="stylesheet" href="/css/main.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--></head><body><header class="head"><h1 class="head-title u-fl"><a href="/">Blackdogman's blog</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a href="/" class="head-nav__link">Home</a></li><li class="head-nav__item"><a href="/archives" class="head-nav__link">Archives</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"><time datetime="2018-06-20T07:04:50.449Z" class="post__time">June 20, 2018</time><h1 class="post__title"><a href="/2018/06/20/Day2.01-EL表达式与JSTL/"></a></h1></header><div class="post__main echo"><h1 id="一、EL表达式"><a href="#一、EL表达式" class="headerlink" title="一、EL表达式"></a>一、EL表达式</h1><ul>
<li>EL(Expression Language)提供了在 JSP 中简化表达式的方法，让Jsp的代码更加简化.</li>
<li>语法：${expression}</li>
<li>el表达式的隐含对象包括：pageScope，requestScope，sessionScope，applicationScope</li>
<li>${message} EL表达式会依次（从小到大）到pageScope，requestScope，sessionScope，applicationScope中寻找，直到找到为止。</li>
<li>如果写成${requestScope.message}的形式，将会缩小范围只在requestScope中查找message。</li>
<li>常见使用场景：取出request中封装的数据<ul>
<li>String或基本数据类型</li>
<li>javabean</li>
<li>List&lt;String或基本数据类型&gt;</li>
<li>List<javabean></javabean></li>
<li>Map</li>
</ul>
</li>
</ul>
<h3 id="1-EL表达式取出request中的String和基本数据类型"><a href="#1-EL表达式取出request中的String和基本数据类型" class="headerlink" title="1.EL表达式取出request中的String和基本数据类型"></a>1.EL表达式取出request中的String和基本数据类型</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">request.setAttribute(&quot;name&quot;, &quot;孙悟空&quot;);</span><br><span class="line">request.setAttribute(&quot;age&quot;, 500);</span><br><span class="line">request.getRequestDispatcher(&quot;test.jsp&quot;).forward(request, response);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name=$&#123;name &#125;, age=$&#123;age &#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-EL表达式取出request中的javabean"><a href="#2-EL表达式取出request中的javabean" class="headerlink" title="2.EL表达式取出request中的javabean"></a>2.EL表达式取出request中的javabean</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 设置javabean</span><br><span class="line">request.setAttribute(&quot;person1&quot;, new Person(200, &quot;唐僧&quot;));</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javabean中对象的属性 name=$&#123;person1.name &#125;, age=$&#123;person1.age &#125;&lt;br&gt;</span><br></pre></td></tr></table></figure>
<h3 id="3-EL表达式取出request中的List-lt-String或基本数据类型-gt"><a href="#3-EL表达式取出request中的List-lt-String或基本数据类型-gt" class="headerlink" title="3.EL表达式取出request中的List&lt;String或基本数据类型&gt;"></a>3.EL表达式取出request中的List&lt;String或基本数据类型&gt;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 设置List&lt;String&gt;</span><br><span class="line">List&lt;String&gt; list = new ArrayList&lt;String&gt;();</span><br><span class="line">list.add(&quot;刘备&quot;);</span><br><span class="line">list.add(&quot;关羽&quot;);</span><br><span class="line">list.add(&quot;张飞&quot;);</span><br><span class="line">request.setAttribute(&quot;list&quot;, list);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;c:forEach items=&quot;$&#123;list &#125;&quot; var=&quot;personName&quot;&gt;</span><br><span class="line">	list中的名字：$&#123;personName &#125; &lt;br&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;c:if test=&quot;$&#123;name &#125; != null &amp;&amp; $&#123;age &#125; != null&quot;&gt;</span><br><span class="line">	name=$&#123;name &#125;, age=$&#123;age &#125;</span><br><span class="line">&lt;/c:if&gt;</span><br></pre></td></tr></table></figure>
<h3 id="4-EL表达式取出request中的List"><a href="#4-EL表达式取出request中的List" class="headerlink" title="4.EL表达式取出request中的List"></a>4.EL表达式取出request中的List<javabean></javabean></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 设置List&lt;javabean&gt;</span><br><span class="line">List&lt;Person&gt; personList = new ArrayList&lt;Person&gt;();</span><br><span class="line">personList.add(new Person(20,&quot;貂蝉&quot;));</span><br><span class="line">personList.add(new Person(20,&quot;西施&quot;));</span><br><span class="line">personList.add(new Person(20,&quot;王昭君&quot;));</span><br><span class="line">request.setAttribute(&quot;personList&quot;, personList);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;c:forEach items=&quot;$&#123;personList &#125;&quot; var=&quot;person&quot;&gt;</span><br><span class="line">	personList中的名字：$&#123;person.name &#125;, 年龄：$&#123;person.age &#125;&lt;br&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;c:forEach items=&quot;$&#123;strList &#125;&quot; var=&quot;str&quot; begin=&quot;2&quot; end=&quot;18&quot; step=&quot;3&quot; varStatus=&quot;vs&quot;&gt;</span><br><span class="line">	$&#123;str &#125;--&gt;$&#123;vs.index &#125;--&gt;$&#123;vs.count &#125;&lt;br&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br></pre></td></tr></table></figure>
<h3 id="5-EL表达式取出request中的Map的值"><a href="#5-EL表达式取出request中的Map的值" class="headerlink" title="5.EL表达式取出request中的Map的值"></a>5.EL表达式取出request中的Map的值</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;Integer, String&gt; userMap = new HashMap&lt;&gt;();</span><br><span class="line">userMap.put(1, &quot;何昭莲&quot;);</span><br><span class="line">userMap.put(2, &quot;白红&quot;);</span><br><span class="line">userMap.put(3, &quot;王健昌&quot;);</span><br><span class="line">userMap.put(4, &quot;苗芙蓉&quot;);</span><br><span class="line">userMap.put(5, &quot;罗薇&quot;);</span><br><span class="line">request.setAttribute(&quot;userMap&quot;, userMap);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;c:forEach items=&quot;$&#123;userMap &#125;&quot; var=&quot;map&quot;&gt;</span><br><span class="line">	$&#123;map.key &#125;--$&#123;map.value &#125;&lt;br&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br></pre></td></tr></table></figure>
<h1 id="二、JSTL"><a href="#二、JSTL" class="headerlink" title="二、JSTL"></a>二、JSTL</h1><ul>
<li>JSTL（JavaServer Pages Standard Tag Library，JSP标准标签库)</li>
<li>先将JSTL架包加入项目中</li>
<li>在jsp页面中使用指令</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>最常用的标签就是c:forEach和c:if</li>
</ul>
<h2 id="c-if"><a href="#c-if" class="headerlink" title="c:if"></a>c:if</h2><ul>
<li>判断条件是写在test里面，只有test成立了，才执行c:if里面的代码</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;c:if test=&quot;$&#123;name &#125; != null &amp;&amp; $&#123;age &#125; != null&quot;&gt;</span><br><span class="line">	name=$&#123;name &#125;, age=$&#123;age &#125;</span><br><span class="line">&lt;/c:if&gt;</span><br></pre></td></tr></table></figure>
<h2 id="c-forEach"><a href="#c-forEach" class="headerlink" title="c:forEach"></a>c:forEach</h2><ul>
<li><p>装入数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; strList2 = new ArrayList&lt;&gt;();</span><br><span class="line">for (int i = 0; i &lt; 10; i++) &#123;</span><br><span class="line">	strList2.add(&quot;数据&quot; + i);</span><br><span class="line">&#125;</span><br><span class="line">request.setAttribute(&quot;strList2&quot;, strList2);</span><br></pre></td></tr></table></figure>
</li>
<li><p>取出数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1&gt;测试c:forEach的更多属性&lt;/h1&gt;</span><br><span class="line">&lt;c:forEach items=&quot;$&#123;strList2 &#125;&quot; var=&quot;str2&quot; begin=&quot;2&quot; end=&quot;8&quot; step=&quot;2&quot; varStatus=&quot;sta&quot;&gt;</span><br><span class="line">	&lt;p&gt;$&#123;str2 &#125; 下标是：$&#123;sta.index &#125; -- $&#123;sta.current &#125; --$&#123;sta.count &#125; -- $&#123;sta.first &#125; -- $&#123;sta.last &#125;&lt;/p&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>items:表示要遍历的集合</p>
</li>
<li>var： 表示集合里面的每个元素</li>
<li>begin: 表示从哪个下标开始遍历</li>
<li>end: 表示遍历到哪个下标</li>
<li>step: 表示步长，默认为1</li>
<li>varStatus: 和遍历相关的属性<ul>
<li>index: 下标</li>
<li>current: 当前元素</li>
<li>count：合计变量了多少个 从1开始计数，他不等于items的个数</li>
<li>first/last 是否是第一次/最后一次迭代，返回的值是true/false</li>
</ul>
</li>
</ul>
</div><footer class="post__foot u-cf"><a href="/2018/06/20/Day2.01-EL表达式与JSTL/#disqus_thread" class="post__foot-link u-fr">0 COMMENTS</a></footer></article></main><footer class="foot"><div class="foot-copy u-fl">&copy; 2018 Blackdogman</div><menu class="page-menu u-fr"><li class="page-menu__item"><span title="Previous" class="page-menu__link icon-arrow-left page-menu__link--disabled"></span></li><li class="page-menu__item"><a title="Next" href="/2018/06/20/hello-world/" class="page-menu__link icon-arrow-right"></a></li></menu></footer></body></html>